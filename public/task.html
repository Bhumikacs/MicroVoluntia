<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin | Manage Tasks</title>
  <link rel="stylesheet" href="style_main.css" />
</head>
<style>
    /* ===============================
   Task Management Styles
================================ */
.task-management {
  max-width: 900px;
  margin: 40px auto;
  padding: 25px;
  background: #ffffff;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.task-management h2, 
.task-management h3 {
  text-align: center;
  margin-bottom: 20px;
  color: #333;
  font-weight: 600;
}

#taskForm {
  display: flex;
  flex-direction: column;
  gap: 15px;
  margin-bottom: 30px;
}

#taskForm label {
  font-weight: 500;
  color: #444;
}

#taskForm input,
#taskForm textarea {
  padding: 10px 12px;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 15px;
  transition: border 0.3s ease;
}

#taskForm input:focus,
#taskForm textarea:focus {
  border-color: #0077cc;
  outline: none;
}

#taskForm button {
  background: #0077cc;
  color: #fff;
  padding: 12px;
  border: none;
  border-radius: 6px;
  font-size: 16px;
  cursor: pointer;
  transition: background 0.3s ease;
}

#taskForm button:hover {
  background: #005fa3;
}

/* Task List Table */
.task-management table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
}

.task-management th,
.task-management td {
  padding: 12px 15px;
  border: 1px solid #ddd;
  text-align: center;
}

/* âœ… Updated Table Header */
.task-management th {
  background: linear-gradient(90deg, #0077cc, #00bcd4);
  color: #fff;  
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.task-management tr:nth-child(even) {
  background: #fafafa;
}

/* Action Buttons */
.task-management button {
  padding: 6px 12px;
  margin: 2px;
  border-radius: 5px;
  font-size: 14px;
}

.task-management td button:first-child {
  background: #ffc107; /* Edit */
  color: #fff;
  border: none;
}

.task-management td button:first-child:hover {
  background: #e0a800;
}

.task-management td button:last-child {
  background: #dc3545; /* Delete */
  color: #fff;
  border: none;
}

.task-management td button:last-child:hover {
  background: #c82333;
}
</style>

<body>

  <!-- Header -->
  <header>
    <nav class="navbar">
      <div class="logo">Admin Dashboard</div>
      <ul class="nav-links">
        <li><a href="index_admin.html">Home</a></li>
        <li><a href="admin_user.html">Users</a></li>
        <li><a href="admin_dashboard.html">Dashboard</a></li>
        <li><a href="event_form.html">Events</a></li>
        <li><a href="all_events.html">All Events</a></li>
        <li><a href="admin_task.html" class="active">Tasks</a></li>
        <li><a href="login.html" id="logoutBtn">Logout</a></li>
      </ul>
    </nav>
  </header>

  <!-- Page Heading -->
  <section class="hero">
    <div class="hero-content">
      <h1>Manage Tasks</h1>
      <p>Create, update, and delete volunteering tasks.</p>
    </div>
  </section>

  <!-- Task Management Section -->
  <section class="task-management">
    <h2>Task Operations</h2>

    <!-- Add Task Form -->
    <form id="taskForm">
      <label>Task Name:</label>
      <input type="text" id="taskName" required />

      <label>Description:</label>
      <textarea id="taskDescription" required></textarea>

      <label>Deadline:</label>
      <input type="date" id="taskDeadline" required />

      <button type="submit">Add Task</button>
    </form>

    <!-- Task List -->
    <h3>All Tasks</h3>
    <table id="taskTable" border="1" cellpadding="10">
      <thead>
        <tr>
          <th>Task Name</th>
          <th>Description</th>
          <th>Deadline</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="taskList">
        <!-- Tasks will appear here dynamically -->
      </tbody>
    </table>
  </section>

  <!-- Script -->
  <script>
    const taskForm = document.getElementById("taskForm");
    const taskList = document.getElementById("taskList");

    taskForm.addEventListener("submit", function(e) {
      e.preventDefault();

      const name = document.getElementById("taskName").value;
      const desc = document.getElementById("taskDescription").value;
      const deadline = document.getElementById("taskDeadline").value;

      // Add row dynamically
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${name}</td>
        <td>${desc}</td>
        <td>${deadline}</td>
        <td>
          <button onclick="editTask(this)">Edit</button>
          <button onclick="deleteTask(this)">Delete</button>
        </td>
      `;
      taskList.appendChild(row);

      // Reset form
      taskForm.reset();
    });

    function deleteTask(btn) {
      if(confirm("Are you sure you want to delete this task?")) {
        btn.parentElement.parentElement.remove();
      }
    }

    function editTask(btn) {
      const row = btn.parentElement.parentElement;
      document.getElementById("taskName").value = row.cells[0].innerText;
      document.getElementById("taskDescription").value = row.cells[1].innerText;
      document.getElementById("taskDeadline").value = row.cells[2].innerText;

      // Remove row after loading into form (so it can be re-added after editing)
      row.remove();
    }

    // Logout Script
    document.getElementById("logoutBtn").addEventListener("click", function(e) {
      e.preventDefault();
      alert("You have been logged out!");
      window.location.href = "home.html";
    });
  </script>

</body>
</html>